name = "meoshare"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# 静态资源配置 (Vite 构建输出)
[assets]
directory = "./dist"
binding = "ASSETS"

# 本地开发配置
[env.dev]
vars = { APP_URL = "http://localhost:8788" }

[vars]
APP_URL = "https://meoshare.nicad.top"

# D1 数据库
[[d1_databases]]
binding = "DB"
database_name = "meoshare-db"
database_id = "752e0123-eacb-48cd-a713-1fb66791e02c"

# R2 存储桶
[[r2_buckets]]
binding = "R2"
bucket_name = "meoshare-files"

# Cron Trigger - 每小时清理过期文件
[triggers]
crons = ["0 * * * *"]

# Observability 配置
[observability]
[observability.logs]
enabled = true
invocation_logs = true
